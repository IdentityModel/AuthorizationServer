<?xml version="1.0" encoding="utf-8"?>
<configuration>
	<configSections>
		<section name="system.identityModel"
				 type="System.IdentityModel.Configuration.SystemIdentityModelSection, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
		<section name="system.identityModel.services"
				 type="System.IdentityModel.Services.Configuration.SystemIdentityModelServicesSection, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089" />
		<section name="autofac"
				 type="Autofac.Configuration.SectionHandler, Autofac.Configuration" />
	</configSections>
	
	<system.identityModel configSource="configuration\identityModel.config" />
	<system.identityModel.services configSource="configuration\identityModel.services.config" />
	<system.diagnostics configSource="configuration\tracing.config" />
	<autofac configSource="configuration\autofac.config" />
	
	<appSettings>
		<add key="authz:EnableAdmin"
			 value="true" />
		<add key="authz:EnableInitialConfiguration"
			 value="true" />
		<add key="authz:EnableSelfService"
			 value="true" />
		<add key="webpages:Version"
			 value="2.0.0.0" />
		<add key="webpages:Enabled"
			 value="false" />
		<add key="PreserveLoginUrl"
			 value="true" />
		<add key="ClientValidationEnabled"
			 value="true" />
		<add key="UnobtrusiveJavaScriptEnabled"
			 value="true" />
	</appSettings>
	<connectionStrings>
		<add name="AuthorizationServerContext"
			 providerName="System.Data.SqlServerCe.4.0"
			 connectionString="Data Source=|DataDirectory|\AuthorizationServerContext.sdf" />
	</connectionStrings>
	<location path="SignOut">
		<system.web>  
			<authorization>
				<allow users="*"/>
			</authorization>
		</system.web>
	</location>
	<system.web>
    <!-- Regenerate keys using a tool such as http://chaos.aspnet.cz/ -->
    <machineKey validation="HMACSHA256"
                   decryption="AES"
                   validationKey="AFE68BD4899E0D8DFF9BD91470F3402B4EC7CDB5A8B754081696DB89F944AD46"
                   decryptionKey="06B011660E47A19E7F6A703230DC20B62A17DE42D630A931263DE40ACD1812AB" />
    
		<authentication mode="None" />
		<httpRuntime targetFramework="4.5"
					 requestValidationMode="4.5" />
		<compilation debug="true"
					 targetFramework="4.5" />
		<pages>
			<namespaces>
				<add namespace="System.Web.Helpers" />
				<add namespace="System.Web.Mvc" />
				<add namespace="System.Web.Mvc.Ajax" />
				<add namespace="System.Web.Mvc.Html" />
				<add namespace="System.Web.Optimization" />
				<add namespace="System.Web.Routing" />
				<add namespace="System.Web.WebPages" />
			</namespaces>
		</pages>
	</system.web>
	<system.webServer>

		<modules>
			<remove name="FormsAuthentication" />
			<add name="WSFederationAuthenticationModule"
				 type="System.IdentityModel.Services.WSFederationAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
				 preCondition="managedHandler" />
			<add name="SessionAuthenticationModule"
				 type="System.IdentityModel.Services.SessionAuthenticationModule, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"
				 preCondition="managedHandler" />
		</modules>
		
		<handlers>
			<remove name="ExtensionlessUrlHandler-ISAPI-4.0_32bit" />
			<remove name="ExtensionlessUrlHandler-ISAPI-4.0_64bit" />
			<remove name="ExtensionlessUrlHandler-Integrated-4.0" />
			<add name="ExtensionlessUrlHandler-ISAPI-4.0_32bit"
				 path="*."
				 verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS"
				 modules="IsapiModule"
				 scriptProcessor="%windir%\Microsoft.NET\Framework\v4.0.30319\aspnet_isapi.dll"
				 preCondition="classicMode,runtimeVersionv4.0,bitness32"
				 responseBufferLimit="0" />
			<add name="ExtensionlessUrlHandler-ISAPI-4.0_64bit"
				 path="*."
				 verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS"
				 modules="IsapiModule"
				 scriptProcessor="%windir%\Microsoft.NET\Framework64\v4.0.30319\aspnet_isapi.dll"
				 preCondition="classicMode,runtimeVersionv4.0,bitness64"
				 responseBufferLimit="0" />
			<add name="ExtensionlessUrlHandler-Integrated-4.0"
				 path="*."
				 verb="GET,HEAD,POST,DEBUG,PUT,DELETE,PATCH,OPTIONS"
				 type="System.Web.Handlers.TransferRequestHandler"
				 preCondition="integratedMode,runtimeVersionv4.0" />
		</handlers>
		
	</system.webServer>
	<runtime>
		<assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
			<dependentAssembly>
				<assemblyIdentity name="System.Web.Helpers"
								  publicKeyToken="31bf3856ad364e35" />
				<bindingRedirect oldVersion="1.0.0.0-2.0.0.0"
								 newVersion="2.0.0.0" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Web.Mvc"
								  publicKeyToken="31bf3856ad364e35" />
				<bindingRedirect oldVersion="1.0.0.0-4.0.0.0"
								 newVersion="4.0.0.0" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="System.Web.WebPages"
								  publicKeyToken="31bf3856ad364e35" />
				<bindingRedirect oldVersion="1.0.0.0-2.0.0.0"
								 newVersion="2.0.0.0" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="EntityFramework"
								  publicKeyToken="b77a5c561934e089" />
				<bindingRedirect oldVersion="0.0.0.0-5.0.0.0"
								 newVersion="5.0.0.0" />
			</dependentAssembly>
			<dependentAssembly>
				<assemblyIdentity name="WebGrease"
								  publicKeyToken="31bf3856ad364e35" />
				<bindingRedirect oldVersion="0.0.0.0-1.3.0.0"
								 newVersion="1.3.0.0" />
			</dependentAssembly>
		</assemblyBinding>
	</runtime>
	<system.data>
		<DbProviderFactories>
			<remove invariant="System.Data.SqlServerCe.4.0" />
			<add name="Microsoft SQL Server Compact Data Provider 4.0"
				 invariant="System.Data.SqlServerCe.4.0"
				 description=".NET Framework Data Provider for Microsoft SQL Server Compact"
				 type="System.Data.SqlServerCe.SqlCeProviderFactory, System.Data.SqlServerCe, Version=4.0.0.0, Culture=neutral, PublicKeyToken=89845dcd8080cc91" />
		</DbProviderFactories>
	</system.data>
</configuration>